<div class="register-container">
  <mat-card>
    <h2 style="text-align: center;">Реєстрація</h2>
    <div class="mode-buttons" style="margin-bottom: 16px;">
      <button mat-button 
              [color]="mode === 'join' ? 'primary' : ''"
              (click)="mode = 'join'">
        Приєднатися до будинку
      </button>

      <button mat-button
              [color]="mode === 'create' ? 'primary' : ''"
              (click)="mode = 'create'">
        Створити новий будинок
      </button>
    </div>

    <!-- Форма приєднання -->
    <form *ngIf="mode === 'join'" [formGroup]="joinForm" (ngSubmit)="onJoinSubmit()">
      <mat-form-field appearance="fill">
        <mat-label>Ім’я</mat-label>
        <input matInput formControlName="name" />
      </mat-form-field>

      <mat-form-field appearance="fill">
        <mat-label>Email</mat-label>
        <input matInput formControlName="email" />
      </mat-form-field>

      <mat-form-field appearance="fill">
        <mat-label>Пароль</mat-label>
        <input matInput type="password" formControlName="password" />
      </mat-form-field>

      <mat-form-field appearance="fill">
        <mat-label>Код запрошення</mat-label>
        <input matInput formControlName="inviteCode" />
      </mat-form-field>

      <mat-form-field appearance="fill">
        <mat-label>Стать</mat-label>
        <mat-select formControlName="gender">
          <mat-option value="male">Чоловіча</mat-option>
          <mat-option value="female">Жіноча</mat-option>
        </mat-select>
      </mat-form-field>

      <mat-form-field appearance="fill">
        <mat-label>Аватар URL</mat-label>
        <input matInput formControlName="avatarUrl" placeholder="https://..." />
      </mat-form-field>

      <button mat-raised-button color="primary" type="submit">Зареєструватися</button>
    </form>

    <!-- Форма створення нового будинку -->
    <form *ngIf="mode === 'create'" [formGroup]="createForm" (ngSubmit)="onCreateSubmit()">
      <mat-form-field appearance="fill">
        <mat-label>Ім’я</mat-label>
        <input matInput formControlName="name" />
      </mat-form-field>

      <mat-form-field appearance="fill">
        <mat-label>Email</mat-label>
        <input matInput formControlName="email" />
      </mat-form-field>

      <mat-form-field appearance="fill">
        <mat-label>Пароль</mat-label>
        <input matInput type="password" formControlName="password" />
      </mat-form-field>

      <mat-form-field appearance="fill">
        <mat-label>Назва нового будинку</mat-label>
        <input matInput formControlName="houseName" />
      </mat-form-field>

      <mat-form-field appearance="fill">
        <mat-label>Стать</mat-label>
        <mat-select formControlName="gender">
          <mat-option value="male">Чоловіча</mat-option>
          <mat-option value="female">Жіноча</mat-option>
        </mat-select>
      </mat-form-field>

      <mat-form-field appearance="fill">
        <mat-label>Аватар URL</mat-label>
        <input matInput formControlName="avatarUrl" placeholder="https://..." />
      </mat-form-field>

      <button mat-raised-button color="primary" type="submit">Створити будинок</button>
    </form>

    <!-- Вивід помилки -->
    <p *ngIf="error" class="error">{{ error }}</p>
  </mat-card>
</div>
